<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="/icon.png">
  <title>HomeyDash</title>
  <meta charset="UTF-8">
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="lib/stylesheets/styles.css" charset="utf-8">
  <!-- Angular must be included in the head so that the templates work properly -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
  <script src="lib/scripts/ui-bootstrap-tpls-2.0.1.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-resource.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.10/ngStorage.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.0.0/lodash.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/restangular/1.3.1/restangular.min.js"></script>
  <script src="lib/scripts/hammer.min.js"></script>
  <script src="lib/scripts/angular.hammer.min.js"></script>
  <script src="lib/scripts/app.js"></script>
  <script src="lib/scripts/controllers.js"></script>
</head>
  <body ng-controller="appController" ng-cloak>
  <img id="full_bg" src="/lib/images/bg.jpg">



    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-1 sidebar">
          <div class="logo">
            <img src="/lib/images/logo.png"/>
          </div>
          <div class="menu">
            <ul>
              <li><i class="material-icons">power</i><br/>Lights</li>
              <li><i class="material-icons">assessment</i> Sensors</li>
            </ul>
          </div>
          <a class="btn btn-clear" ng-click="open('lg')" style="position:absolute;bottom:10px;"><i class="material-icons">settings</i></a>
        </div>
        <div class="col-sm-11">
          <div class="col-sm-12 header">
            <h1 ng-repeat="zone in zones" ng-if="zone.id == $storage.defaultZone">{{zone.name}}</h1>
          </div>
          <div class="col-sm-12">
            <div class="panel panel-clear">
              <div class="panel-body">
                <div style="" class="col-sm-2 light" ng-repeat="device in devicelist" ng-if="device.class == 'light' || device.class == 'socket'">
                  <div ng-if="device.state.onoff == false" hm-tap="tap(device.id, true)" id="device-light" style="margin-bottom:10px;margin-top:5px;background:rgba(255,255,255,0.2);background-size: cover;-webkit-mask-size: contain;-webkit-mask-position: center center;-webkit-mask-repeat: no-repeat;width:100%;height:50px;-webkit-mask-image: url(http://192.168.2.72{{device.icon}});"> </div>
                  <div ng-if="device.state.onoff == true" hm-tap="tap(device.id, false)" id="device-light" style="margin-bottom:10px;margin-top:5px;background:rgba(255,255,255,0.9);background-size: cover;-webkit-mask-size: contain;-webkit-mask-position: center center;-webkit-mask-repeat: no-repeat;width:100%;height:50px;-webkit-mask-image: url(http://192.168.2.72{{device.icon}});"> </div>
                  <span class="devicename">{{device.name}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/ng-template" id="settings_modal.html">
        <div class="modal-header">
            <h3 class="modal-title" style="color:#000;">Settings</h3>
        </div>
        <div class="modal-body">
          <ul class="row">
            <li class="col-sm-6 zone-item" ng-repeat="zone in zones" ng-click="saveSettings(zone.id)">
              <span class="col-sm-12" style="color:#000;">
              <div class="" style="margin-right:20px;float:left;-webkit-mask-size: contain;background: #000;-webkit-mask-position: center center;-webkit-mask-repeat: no-repeat;width: 26px;height: 26px;-webkit-mask-image: url(http://192.168.2.72/manager/zones/assets/icons/{{zone.icon}}.svg)"></div>
              {{zone.name}}
              </span>
            </li>
          </ul>
        </div>
    </script>
  </body>
</html>
